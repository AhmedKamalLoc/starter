import { Controls, Meta, Story } from '@storybook/blocks';

import * as ButtonStories from './button.stories';

<Meta of={ButtonStories} />

# Button

A flexible button component that supports various styles, sizes, icons, and loading states.

## Features

- Multiple visual variants
- Different sizes
- Icon support (before or after text)
- Loading states
- Accessible by default
- Keyboard navigation support
- Disabled states with visual feedback

## Usage

```tsx
import { Button } from '@/components/button';
import { ArrowRight } from 'lucide-react';

// Basic usage
<Button>Click me</Button>

// With variant and size
<Button variant="primary" size="lg">
  Large Primary Button
</Button>

// With icon
<Button icon={<ArrowRight className="h-4 w-4" />}>
  Next
</Button>

// Loading state
<Button isLoading loadingText="Saving...">
  Save Changes
</Button>

// Disabled state
<Button disabled>
  Cannot Click
</Button>

// Disabled with icon
<Button
  disabled
  icon={<ArrowRight className="h-4 w-4" />}
>
  Next
</Button>
```

## Props

<Controls />

## Variants

Different visual styles for different contexts:

<div className="flex items-center justify-around gap-4">
  <Story of={ButtonStories.Primary} />
  <Story of={ButtonStories.Secondary} />
  <Story of={ButtonStories.Outline} />
  <Story of={ButtonStories.Ghost} />
  <Story of={ButtonStories.Link} />
  <Story of={ButtonStories.LinkPrimary} />
  <Story of={ButtonStories.Destructive} />
</div>

## Sizes

Available size options:

<div className="flex items-center justify-around gap-4">
  <Story of={ButtonStories.Small} />
  <Story of={ButtonStories.Medium} />
  <Story of={ButtonStories.Large} />
  <Story of={ButtonStories.ExtraLarge} />
  <Story of={ButtonStories.TwoExtraLarge} />
</div>

## Icons

Buttons can include icons before or after the text:

<div className="flex items-center justify-around gap-4">
  <Story of={ButtonStories.WithIconBefore} />
  <Story of={ButtonStories.WithIconAfter} />
  <Story of={ButtonStories.IconButton} />
</div>

## Loading States

Buttons show loading indicators when processing:

<div className="flex items-center justify-around gap-4">
  <Story of={ButtonStories.Loading} />
  <Story of={ButtonStories.LoadingWithText} />
</div>

## States

### Disabled State

Buttons can be disabled, which:

- Prevents user interaction
- Shows a lighter appearance (50% opacity)
- Changes the shadow effect
- Removes hover and focus states
- Changes cursor to not-allowed

<Story of={ButtonStories.Disabled} />

### Destructive State

<Story of={ButtonStories.Destructive} />

### Disabled Destructive State

<Story of={ButtonStories.DisabledDestructive} />

Examples of disabled states with different variants:

<div className="flex items-center justify-around gap-4">
  <Story of={ButtonStories.DisabledPrimary} />
  <Story of={ButtonStories.DisabledWithIcon} />
  <Story of={ButtonStories.DisabledLoading} />
</div>

## Complex Example

Combining multiple features:

<Story of={ButtonStories.ComplexButton} />

## Accessibility

- Buttons are keyboard accessible
- Icons are properly hidden from screen readers
- Loading state is announced to screen readers
- Disabled state prevents interaction and is announced to screen readers
- Focus states are visible
- Proper ARIA attributes for different states

## Best Practices

1. Use clear, action-oriented text
2. Choose appropriate variants for the context
3. Include loading states for async actions
4. Maintain consistent sizing within your interface
5. Use icons to enhance, not replace, text labels
6. Use disabled state sparingly - consider showing why an action isn't available
7. Provide feedback when buttons are disabled

## Design Tokens

The button component uses these design tokens:

- Colors: primary, secondary, destructive
- Spacing: padding, gaps
- Typography: font-size, font-weight
- Borders: radius, width
- Shadows:
  - Default:
    `inset 0px 0px 0px 1px rgba(10,13,18,0.18), inset 0px -2px 0px 0px rgba(10,13,18,0.05), 0px 1px 2px 0px rgba(16,24,40,0.05)`
  - Disabled: `0px 1px 2px 0px rgba(10,13,18,0.05)`
- Transitions: colors, transforms

## States Reference

| State    | Visual Changes                    |
| -------- | --------------------------------- |
| Default  | Full opacity, default shadow      |
| Hover    | Background darkens (when enabled) |
| Focus    | Ring appears around button        |
| Active   | Slight color adjustment           |
| Disabled | 50% opacity, simplified shadow    |
| Loading  | Shows spinner, prevents clicks    |
